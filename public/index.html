<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EPFLsurvival | CardGenerator</title>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
      #spinner {
        width: 20px;
        height: 20px;
        background-color: #333;

        margin: 10px auto;
        -webkit-animation: sk-rotateplane 1.2s infinite ease-in-out;
        animation: sk-rotateplane 1.2s infinite ease-in-out;
      }

      @-webkit-keyframes sk-rotateplane {
        0% { -webkit-transform: perspective(120px) }
        50% { -webkit-transform: perspective(120px) rotateY(180deg) }
        100% { -webkit-transform: perspective(120px) rotateY(180deg)  rotateX(180deg) }
      }

      @keyframes sk-rotateplane {
        0% {
          transform: perspective(120px) rotateX(0deg) rotateY(0deg);
          -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg)
        } 50% {
          transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);
          -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg)
        } 100% {
          transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
          -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
        }
      }

      [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
        display: none !important;
      }
    </style>
  </head>
  <body ng-controller="Ctrl">

    <div class="container text-center">

      <div class="row">
        <h1><strong>EPFLsurvival</strong></h1>
      </div>
      <div class="row text-left top-buffer">
        <h4><strong>Filtres</strong></h4>
        <form class="form-inline">
          <div class="form-group">
            <label for="globalFilter">Global:</label>
            <input type="text" class="form-control" id="globalFilter" ng-model="search.$">
          </div>
          <div class="form-group">
            <label for="tagFilter">Question:</label>
            <input type="text" class="form-control" id="tagFilter" ng-model="search.question">
          </div>
          <div class="form-group">
            <label for="idFilter">Tags:</label>
            <input type="text" class="form-control" id="idFilter" ng-model="search.tag">
          </div>
          <br>
          <div class="checkbox">
            <label>
              <input type="checkbox" ng-model="strict"> Strictement égal
            </label>
          </div>
        </form>
      </div>

      <div class="row top-buffer">
        <h4 class="text-left"><strong>Cartes <span ng-cloak>({{filtered.length}})</span></strong></h4>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <th><strong>#</strong></th>
              <td><strong>Question</strong></td>
              <td><strong>Tags</strong></td>
              <td><strong>Academics</strong></td>
              <td><strong>Finances</strong></td>
              <td><strong>Health</strong></td>
              <td><strong>Social</strong></td>
            </thead>
            <tr ng-repeat="card in cards | filter:search:strict as filtered" ng-click="display(card)" ng-cloak>
              <th>{{$index}}</th>
              <td>{{card.question}}</td>
              <td>{{card.tag}}</td>
              <td>{{card.ranges.academics[0]}} - {{card.ranges.academics[1]}}</td>
              <td>{{card.ranges.finances[0]}} - {{card.ranges.finances[1]}}</td>
              <td>{{card.ranges.health[0]}} - {{card.ranges.health[1]}}</td>
              <td>{{card.ranges.social[0]}} - {{card.ranges.social[1]}}</td>
            </tr>
          </table>
        </div>
        <div id="spinner"></div>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body row text-xs-center" id="myModalBody">

              <h4 class="text-left">&nbsp;Réponses</h4>
              <div class="col-xs-6 bg-success">
                <span class="answer">Answer 1</span><br>
                <div class="row">
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-education"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-usd"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-heart-empty"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-thumbs-up"></span><br>
                    <span class="score">0</span>
                  </div>
                </div>
                <h6 class="text-left">Commentaire:</h6>
              </div>
              <div class="col-xs-6 bg-info">
                <span class="answer">Answer 2</span><br>
                <div class="row">
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-education"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-usd"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-heart-empty"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-thumbs-up"></span><br>
                    <span class="score">0</span>
                  </div>
                </div>
                <h6 class="text-left">Commentaire:</h6>
              </div>
              <div class="col-xs-6 bg-warning">
                <span class="answer">Answer 3</span><br>
                <div class="row">
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-education"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-usd"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-heart-empty"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-thumbs-up"></span><br>
                    <span class="score">0</span>
                  </div>
                </div>
                <h6 class="text-left">Commentaire:</h6>
              </div>
              <div class="col-xs-6 bg-danger">
                <span class="answer">Answer 4</span><br>
                <div class="row">
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-education"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-usd"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-heart-empty"></span><br>
                    <span class="score">0</span>
                  </div>
                  <div class="col-xs-3">
                    <span class="glyphicon glyphicon-thumbs-up"></span><br>
                    <span class="score">0</span>
                  </div>
                </div>
                <h6 class="text-left">Commentaire:</h6>
              </div>

              <h4 class="text-left">&nbsp;Informations</h4>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>
    <!-- app.js -->
    <script src="app.js"></script>
    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>
